<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="/recursos/template/template.xhtml">

	<ui:define name="tituloPagina">
		 Dashboard
	</ui:define>
	<ui:define name="tituloPrincipal">
		<i class="fa fa-dashboard"> </i> Dashboard</ui:define>
	<ui:define name="tituloSecundario"></ui:define>

	<ui:define name="botoesAcao"></ui:define>

	<ui:define name="eventos">
		<f:metadata>
			<f:event listener="#{loginBean.validarLogin()}" type="preRenderView"></f:event>
		</f:metadata>
	</ui:define>

	<ui:define name="conteudo">

		<h:form>
			<p:fieldset legend="Atendimentos" toggleable="true" toggleSpeed="500"
				collapsed="true" style="margin-bottom: 20px;">
				<p:dataTable id="tbl" var="atend"
					value="#{atendimentoBean.listar()}" rows="5" paginator="true"
					rowsPerPageTemplate="5,10,15"
					paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {Exporters} {RowsPerPageDropdown}"
					style="margin-bottom:20px">

					<f:facet name="{Exporters}">
						<h:commandLink>
							<i class="fa fa-download"><p:dataExporter type="xls"
									target="tbl" fileName="atendimentos" pageOnly="false" /> </i>

						</h:commandLink>
					</f:facet>

					<p:column>
						<f:facet name="header">
							<h:outputText value="Acesso" />
						</f:facet>
						<h:outputText value="#{atend.acesso}" />
					</p:column>

					<p:column>
						<f:facet name="header">
							<h:outputText value="Acompanhamento" />
						</f:facet>
						<h:outputText value="#{atend.acompanhamento}" />
					</p:column>

					<p:column>
						<f:facet name="header">
							<h:outputText value="Colaborador" />
						</f:facet>
						<h:outputText value="#{atend.colaborador}" />
					</p:column>

					<p:column>
						<f:facet name="header">
							<h:outputText value="Data" />
						</f:facet>
						<h:outputText value="#{atend.data}" />
					</p:column>

					<p:column>
						<f:facet name="header">
							<h:outputText value="D. Externa" />
						</f:facet>
						<h:outputText value="#{atend.demandaExterna}" />
					</p:column>

					<p:column>
						<f:facet name="header">
							<h:outputText value="Ferramentas" />
						</f:facet>
						<h:outputText value="#{atend.ferramentas}" />
					</p:column>

					<p:column>
						<f:facet name="header">
							<h:outputText value="Instancia" />
						</f:facet>
						<h:outputText value="#{atend.instancia}" />
					</p:column>

					<p:column>
						<f:facet name="header">
							<h:outputText value="Observação" />
						</f:facet>
						<h:outputText value="#{atend.observacao.observacao}" />
					</p:column>


					<p:column>
						<f:facet name="header">
							<h:outputText value="Ordem" />
						</f:facet>
						<h:outputText value="#{atend.ordem}" />
					</p:column>

					<p:column>
						<f:facet name="header">
							<h:outputText value="Serviço" />
						</f:facet>
						<h:outputText value="#{atend.servico}" />
					</p:column>


					<p:column>
						<f:facet name="header">
							<h:outputText value="Técnico" />
						</f:facet>
						<h:outputText value="#{atend.tecnico.login}" />
					</p:column>

					<p:column>
						<f:facet name="header">
							<h:outputText value="Motivo" />
						</f:facet>
						<h:outputText value="#{atend.motivo.nome}" />
					</p:column>

					<p:column>
						<f:facet name="header">
							<h:outputText value="Tecnologia" />
						</f:facet>
						<h:outputText value="#{atend.motivo.tecnologia.nome}" />
					</p:column>


				</p:dataTable>
			</p:fieldset>
		</h:form>

	</ui:define>

</ui:composition>
</html>